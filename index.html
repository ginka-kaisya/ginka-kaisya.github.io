<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sakura & Teru Teru: GDUT Edition</title>
    <style>
        :root {
            --primary: #81c784;
            --accent: #ff8a80;
            --glass: rgba(255, 255, 255, 0.85);
            --bg-gradient: linear-gradient(135deg, #e3f2fd 0%, #c8e6c9 100%);
        }

        * { box-sizing: border-box; }

        body {
            margin: 0;
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: var(--bg-gradient);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #37474f;
        }

        .portal-container {
            width: 95%;
            max-width: 1100px;
            display: flex;
            gap: 25px;
            padding: 20px;
            animation: fadeIn 1.2s ease-out;
        }

        @media (max-width: 900px) {
            .portal-container { flex-direction: column; align-items: center; }
            .canvas-side { width: 100% !important; height: 300px !important; }
        }

        /* è£…é¥°çª—å®¹å™¨ */
        .canvas-side {
            width: 400px;
            height: 550px;
            background: #fff;
            border-radius: 35px;
            overflow: hidden;
            box-shadow: 0 30px 60px rgba(0,0,0,0.1);
            border: 10px solid white;
        }

        canvas {
            width: 100%;
            height: 100%;
            image-rendering: pixelated;
        }

        /* å³ä¾§é¢æ¿ */
        .content-side {
            flex: 1;
            background: var(--glass);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-radius: 35px;
            padding: 40px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            border: 1px solid rgba(255,255,255,0.5);
        }

        .header h1 { font-size: 2.8rem; margin: 0; color: #2e7d32; }
        .header p { line-height: 1.8; color: #546e7a; }

        .nav-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 30px;
        }

        .nav-card {
            padding: 20px;
            border-radius: 20px;
            text-decoration: none;
            color: white;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
        }

        .nav-card:hover { transform: translateY(-5px); filter: brightness(1.1); }
        
        .cafe-link { background: #90a4ae; }
        .contact-link { background: #ff8a80; }
        .campus-link { background: #81c784; grid-column: span 2; }

        .nav-card span { font-size: 0.8rem; opacity: 0.9; font-weight: 400; margin-top: 5px; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>

    <div class="portal-container">
        <div class="canvas-side">
            <canvas id="dayCanvas" width="400" height="550"></canvas>
        </div>

        <div class="content-side">
            <div class="header">
                <h1>æ™´ç©ºæ¨±èŠ±</h1>
                <p>æ„¿æ¯ä¸€ä½å¹¿å·¥å­¦å­çš„å¿ƒå¤´éƒ½æŒ‚ç€ä¸€ä¸ªæ™´å¤©å¨ƒå¨ƒã€‚å³ä½¿åœ¨å¿™ç¢Œçš„å­¦æœŸé‡Œï¼Œä¹Ÿèƒ½åœ¨è¿™é‡Œæ‰¾åˆ°ä¸€ç‰‡æ°¸æ’çš„å®é™ä¸èŠ±æµ·ã€‚</p>
            </div>

            <div class="nav-grid">
                <a href="cafe.html" class="nav-card cafe-link">â˜• èº²è¿›å’–å•¡å…<span>åˆåå…‰å½±ä½“éªŒ</span></a>
                <a href="mailto:contact@gdut.edu" class="nav-card contact-link">ğŸ“© ç•™è¨€æ¿<span>åˆ†äº«ä½ çš„å¿ƒæƒ…</span></a>
                <a href="university.html" class="nav-card campus-link">ğŸ« æ¼«æ­¥æ ¡å›­<span>æ¢ç´¢ 2K çº§è™šæ‹Ÿå¹¿å·¥</span></a>
            </div>
        </div>
    </div>

<script>
    const canvas = document.getElementById('dayCanvas');
    const ctx = canvas.getContext('2d');
    const S = 6; 
    let frame = 0;

    // æ¨±èŠ±é…ç½®
    const petals = Array.from({length: 40}, () => ({
        x: Math.random() * 100,
        y: Math.random() * 100,
        s: Math.random() * 0.3 + 0.2, // é£˜è½é€Ÿåº¦
        vx: Math.random() * 0.4 + 0.1, // æ¨ªå‘é£é€Ÿ
        r: Math.random() * Math.PI
    }));

    function p(x, y, w, h, c) {
        ctx.fillStyle = c;
        ctx.fillRect(x * S, y * S, w * S, h * S);
    }

function render() {
        frame++;
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        // èƒŒæ™¯ï¼šæ¸…é€å¤©è“è‰²
        ctx.fillStyle = '#e3f2fd';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // 0. ç»˜åˆ¶å›ºå®šç‚¹ï¼šæœ¨è´¨å±‹æª (Eaves)
        // é¡¶éƒ¨æ¨ªæ¢
        p(0, 0, 100, 8, '#5d4037'); // æ·±è‰²æœ¨å¤´
        p(0, 6, 100, 2, '#3e2723'); // æœ¨å¤´åº•éƒ¨é˜´å½±
        // å¢åŠ ä¸€ç‚¹ç“¦ç‰‡æ„Ÿ
        for(let i=0; i<10; i++) {
            p(i*12, 0, 8, 2, '#4e342e');
        }

        // 1. ç»˜åˆ¶æ™´å¤©å¨ƒå¨ƒ (Teru Teru Bozu)
        let swing = Math.sin(frame * 0.04) * 0.12; // ç¨å¾®å‡å°æ‘†åŠ¨ï¼Œæ˜¾å¾—æ›´æœ‰é‡é‡
        let hX = 33, hY = 8; // æ‚¬æŒ‚ç‚¹æ”¹ä¸ºä»å±‹æªåº•éƒ¨å¼€å§‹

        ctx.save();
        ctx.translate(hX * S, hY * S);
        ctx.rotate(swing);

        // æ ¸å¿ƒä¿®æ”¹ï¼šç»³å­ç°åœ¨ç´§ç´§ç³»åœ¨å±‹æª(hY=8)ä¸Š
        p(-0.5, 0, 1, 15, '#90a4ae'); // ç»³å­
        
        // å¨ƒå¨ƒä¸»ä½“å‘ä¸‹åç§» 15 ä¸ªå•ä½
        ctx.translate(0, 15 * S); 
        
        // å¤´éƒ¨
        p(-4, 0, 8, 8, '#ffffff');
        p(-3, -1, 6, 1, '#ffffff');
        p(-3, 8, 6, 1, '#ffffff');
        // çœ¼ç›
        p(-2.5, 3, 1, 1, '#37474f');
        p(1.5, 3, 1, 1, '#37474f');
        // çº¢ä¸å¸¦
        p(-4, 8, 8, 1, '#ff5252');
        // èº«ä½“/å¸ƒæ–™ä¸‹æ‘†
        p(-5, 9, 10, 8, '#ffffff');
        // ä¸‹æ‘†åŠ¨æ€è¤¶çš±
        for(let i=0; i<3; i++) {
            let offset = Math.sin(frame * 0.1 + i) * 1.5;
            p(-5 + i*4, 17 + offset, 2, 2, '#ffffff');
        }
        ctx.restore();

        // 2. æ¨±èŠ±å¾ªç¯é£˜è½é€»è¾‘ (ä¿æŒä¸å˜)
        petals.forEach((petal, i) => {
            petal.y += petal.s;
            petal.x += petal.vx + Math.sin(frame * 0.02 + i) * 0.2;

            if(petal.y > 100) {
                petal.y = -5;
                petal.x = Math.random() * 100;
            }
            if(petal.x > 100) petal.x = -5;

            ctx.save();
            ctx.translate(petal.x * S, petal.y * S);
            ctx.rotate(petal.r + frame * 0.02);
            ctx.fillStyle = i % 2 === 0 ? '#ffc0cb' : '#ffffff';
            ctx.fillRect(-0.5 * S, -0.5 * S, 1.2 * S, 0.8 * S);
            ctx.restore();
        });

        requestAnimationFrame(render);
    }
    render();
</script>
</body>
</html>    
